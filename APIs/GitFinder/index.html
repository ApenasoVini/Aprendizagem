<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="midia/github.png">
    <title>GitFinder</title>
</head>

<body>

    <form onsubmit="return buscaPerfil()">

        <h1 id="titulo">GitFinder</h1>

        <div id="principal">
            <input type="text" id="usernameInput" placeholder="Digite o nome" class="nome">
            <br>
            <button id="buscar" type="submit">BUSCAR PERFIL</button>

        </div>

        <div id="info">

        </div>
    </form>


</body>

</html>

<script>

    function buscaPerfil() {
        event.preventDefault();
        const nameUser = document.getElementById('usernameInput').value;
        var followers, following, public_repos, avatar, login, linkRepos;
        info = document.getElementById("info");

        var url = `https://api.github.com/users/${nameUser}`
        fetch(url)

            .then(res => res.json())
            .then(data => {

                avatar = data.avatar_url;
                login = data.login;
                followers = data.followers;
                following = data.following;
                public_repos = data.public_repos;
                linkRepos = data.repos_url;

                info.innerHTML =
                    `
            <img style:"margin: 30px; border-radius: 100px; height: 200px; width:200px" src = "${avatar}">
            <p>Nome: ${login}<p>
            <p>Seguidores: ${followers}<p>
            <p>Seguindo: ${following}<p>
            <p>Repositórios: ${public_repos}<p>
            <p><a href="https://github.com/${nameUser}?tab=repositories" target="_blank">Ver Repositórios</a></p>
            `

            })
    }
</script>

</html>